<!doctype html>
<html lang="pl" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <title>Kalkulator 3D – Filamenty</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js');
  }
</script>

</head>
<body class="bg-dark text-light">
<div class="container py-4">

    <h1 class="mb-4">🎛 Lista Filamentów</h1>

    <a href="{{ url_for('dodaj') }}" class="btn btn-success mb-3">➕ Dodaj filament</a>
    <a href="{{ url_for('oblicz') }}" class="btn btn-primary mb-3 ms-2">🧮 Oblicz koszt wydruku</a>
    <a href="{{ url_for('historia') }}" class="btn btn-secondary mb-3 ms-2">📚 Historia wydruków</a>

    {% if filamenty %}
    <table class="table table-dark table-striped table-bordered align-middle">
        <thead>
        <tr>
            <th>Nazwa</th>
            <th>Kolor</th>
            <th>Cena za kg</th>
            <th>Pozostało (g)</th>
            <th>Akcje</th>
        </tr>
        </thead>
        <tbody>
        {% for f in filamenty %}
        <tr>
            <td>{{ f.nazwa }}</td>
            <td>{{ f.kolor }}</td>
            <td>{{ f.cena_za_kg }} zł</td>
            <td>{{ f.pozostalo_gramow }}</td>
            <td>
                <a href="{{ url_for('edytuj', index=loop.index0) }}" class="btn btn-warning btn-sm">✏️ Edytuj</a>
                <a href="{{ url_for('usun', index=loop.index0) }}" class="btn btn-danger btn-sm">🗑 Usuń</a>                
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-muted">Brak filamentów w bazie.</p>
    {% endif %}

</div>
</body>
</html>
